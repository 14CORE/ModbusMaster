<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ModbusMaster: Modbus Function Codes for Discrete Coils/Inputs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ModbusMaster
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__discrete.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Modbus Function Codes for Discrete Coils/Inputs</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga560b271d9e1ccd1294f64e1bd01aa5d1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__discrete.html#ga560b271d9e1ccd1294f64e1bd01aa5d1">ModbusMaster::readCoils</a> (uint16_t, uint16_t)</td></tr>
<tr class="memdesc:ga560b271d9e1ccd1294f64e1bd01aa5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus function 0x01 Read Coils.  <a href="#ga560b271d9e1ccd1294f64e1bd01aa5d1"></a><br/></td></tr>
<tr class="separator:ga560b271d9e1ccd1294f64e1bd01aa5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81d175423a5061d3aa8e778fc5534bed"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__discrete.html#ga81d175423a5061d3aa8e778fc5534bed">ModbusMaster::readDiscreteInputs</a> (uint16_t, uint16_t)</td></tr>
<tr class="memdesc:ga81d175423a5061d3aa8e778fc5534bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus function 0x02 Read Discrete Inputs.  <a href="#ga81d175423a5061d3aa8e778fc5534bed"></a><br/></td></tr>
<tr class="separator:ga81d175423a5061d3aa8e778fc5534bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa132b7dee3f46d6f6aa625bba4ad25bf"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__discrete.html#gaa132b7dee3f46d6f6aa625bba4ad25bf">ModbusMaster::writeSingleCoil</a> (uint16_t, uint8_t)</td></tr>
<tr class="memdesc:gaa132b7dee3f46d6f6aa625bba4ad25bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus function 0x05 Write Single Coil.  <a href="#gaa132b7dee3f46d6f6aa625bba4ad25bf"></a><br/></td></tr>
<tr class="separator:gaa132b7dee3f46d6f6aa625bba4ad25bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01eb4d05f58d6ae00c6db680cf00c423"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__discrete.html#ga01eb4d05f58d6ae00c6db680cf00c423">ModbusMaster::writeMultipleCoils</a> (uint16_t, uint16_t)</td></tr>
<tr class="memdesc:ga01eb4d05f58d6ae00c6db680cf00c423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus function 0x0F Write Multiple Coils.  <a href="#ga01eb4d05f58d6ae00c6db680cf00c423"></a><br/></td></tr>
<tr class="separator:ga01eb4d05f58d6ae00c6db680cf00c423"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga560b271d9e1ccd1294f64e1bd01aa5d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ModbusMaster::readCoils </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16ReadAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16BitQty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus function 0x01 Read Coils. </p>
<p>This function code is used to read from 1 to 2000 contiguous status of coils in a remote device. The request specifies the starting address, i.e. the address of the first coil specified, and the number of coils. Coils are addressed starting at zero.</p>
<p>The coils in the response buffer are packed as one coil per bit of the data field. Status is indicated as 1=ON and 0=OFF. The LSB of the first data word contains the output addressed in the query. The other coils follow toward the high order end of this word and from low order to high order in subsequent words.</p>
<p>If the returned quantity is not a multiple of sixteen, the remaining bits in the final data word will be padded with zeros (toward the high order end of the word).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u16ReadAddress</td><td>address of first coil (0x0000..0xFFFF) </td></tr>
    <tr><td class="paramname">u16BitQty</td><td>quantity of coils to read (1..2000, enforced by remote device) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; exception number on failure </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2_phoenix_contact_nano_l_c_2_phoenix_contact_nano_l_c_8pde-example.html#a7">examples/PhoenixContact_nanoLC/PhoenixContact_nanoLC.pde</a>.</dd>
</dl><div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="class_modbus_master.html#adfb48ef6321f738cc4b55c4b6e4a6335" title="slave register from which to read">_u16ReadAddress</a> = u16ReadAddress;</div>
<div class="line">  <a class="code" href="class_modbus_master.html#a043a88f0b184accd9176770dee55a6b3" title="quantity of words to read">_u16ReadQty</a> = u16BitQty;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_modbus_master.html#a4c88df0ed38e98457e8ac74c2ed5dc81" title="Modbus transaction engine.">ModbusMasterTransaction</a>(<a class="code" href="class_modbus_master.html#ad7e7aa7bed1b86f24bd577725edc633d" title="Modbus function 0x01 Read Coils.">ku8MBReadCoils</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga81d175423a5061d3aa8e778fc5534bed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ModbusMaster::readDiscreteInputs </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16ReadAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16BitQty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus function 0x02 Read Discrete Inputs. </p>
<p>This function code is used to read from 1 to 2000 contiguous status of discrete inputs in a remote device. The request specifies the starting address, i.e. the address of the first input specified, and the number of inputs. Discrete inputs are addressed starting at zero.</p>
<p>The discrete inputs in the response buffer are packed as one input per bit of the data field. Status is indicated as 1=ON; 0=OFF. The LSB of the first data word contains the input addressed in the query. The other inputs follow toward the high order end of this word, and from low order to high order in subsequent words.</p>
<p>If the returned quantity is not a multiple of sixteen, the remaining bits in the final data word will be padded with zeros (toward the high order end of the word).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u16ReadAddress</td><td>address of first discrete input (0x0000..0xFFFF) </td></tr>
    <tr><td class="paramname">u16BitQty</td><td>quantity of discrete inputs to read (1..2000, enforced by remote device) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; exception number on failure </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="class_modbus_master.html#adfb48ef6321f738cc4b55c4b6e4a6335" title="slave register from which to read">_u16ReadAddress</a> = u16ReadAddress;</div>
<div class="line">  <a class="code" href="class_modbus_master.html#a043a88f0b184accd9176770dee55a6b3" title="quantity of words to read">_u16ReadQty</a> = u16BitQty;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_modbus_master.html#a4c88df0ed38e98457e8ac74c2ed5dc81" title="Modbus transaction engine.">ModbusMasterTransaction</a>(<a class="code" href="class_modbus_master.html#ae08306bd72d5487bccf16c12ade79098" title="Modbus function 0x02 Read Discrete Inputs.">ku8MBReadDiscreteInputs</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa132b7dee3f46d6f6aa625bba4ad25bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ModbusMaster::writeSingleCoil </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16WriteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8State</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus function 0x05 Write Single Coil. </p>
<p>This function code is used to write a single output to either ON or OFF in a remote device. The requested ON/OFF state is specified by a constant in the state field. A non-zero value requests the output to be ON and a value of 0 requests it to be OFF. The request specifies the address of the coil to be forced. Coils are addressed starting at zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u16WriteAddress</td><td>address of the coil (0x0000..0xFFFF) </td></tr>
    <tr><td class="paramname">u8State</td><td>0=OFF, non-zero=ON (0x00..0xFF) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; exception number on failure </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="class_modbus_master.html#a00edff3fbd53d94dcc1b6be593c61289" title="slave register to which to write">_u16WriteAddress</a> = u16WriteAddress;</div>
<div class="line">  <a class="code" href="class_modbus_master.html#ad3191c5da05cf72e117814ba0472b420" title="quantity of words to write">_u16WriteQty</a> = (u8State ? 0xFF00 : 0x0000);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_modbus_master.html#a4c88df0ed38e98457e8ac74c2ed5dc81" title="Modbus transaction engine.">ModbusMasterTransaction</a>(<a class="code" href="class_modbus_master.html#a401bf89674f94726efca951115704869" title="Modbus function 0x05 Write Single Coil.">ku8MBWriteSingleCoil</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga01eb4d05f58d6ae00c6db680cf00c423"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ModbusMaster::writeMultipleCoils </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16WriteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16BitQty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus function 0x0F Write Multiple Coils. </p>
<p>This function code is used to force each coil in a sequence of coils to either ON or OFF in a remote device. The request specifies the coil references to be forced. Coils are addressed starting at zero.</p>
<p>The requested ON/OFF states are specified by contents of the transmit buffer. A logical '1' in a bit position of the buffer requests the corresponding output to be ON. A logical '0' requests it to be OFF.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u16WriteAddress</td><td>address of the first coil (0x0000..0xFFFF) </td></tr>
    <tr><td class="paramname">u16BitQty</td><td>quantity of coils to write (1..2000, enforced by remote device) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; exception number on failure </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="class_modbus_master.html#a00edff3fbd53d94dcc1b6be593c61289" title="slave register to which to write">_u16WriteAddress</a> = u16WriteAddress;</div>
<div class="line">  <a class="code" href="class_modbus_master.html#ad3191c5da05cf72e117814ba0472b420" title="quantity of words to write">_u16WriteQty</a> = u16BitQty;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_modbus_master.html#a4c88df0ed38e98457e8ac74c2ed5dc81" title="Modbus transaction engine.">ModbusMasterTransaction</a>(<a class="code" href="class_modbus_master.html#a31e5f44d74fa84bf4c9440c82d123fe9" title="Modbus function 0x0F Write Multiple Coils.">ku8MBWriteMultipleCoils</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
